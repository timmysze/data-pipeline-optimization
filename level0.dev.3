#!/usr/bin/env ruby
path = ARGV.length > 0 ? ARGV[0] : '/usr/share/dict/words'
dict = File.read(path).split("\n")

mid = dict[117468]

def check(word, left, right)
  mid_index = (right - left) / 2 + left
  mid_word = dict[mid_index]
  if mid_word == word
    return true
  elsif (right - left) == 1
    if dict[mid_index + 1] == word
      return true
    else
      return false
    end
  else
    if (word < mid_word)
      return check(word, left, mid_index - 1)
    else
      return check(word, mid_index + 1, right)
    end
  end

  false
end

contents = $stdin.read
output = contents.gsub(/[^ \n]+/) do |word|
  w = word.downcase

  if w < mid
    c = check(w, 0, 117467)
  else
    c = check(w, 117468, 234936)
  end

  if c
    word
  else
    "<#{word}>"
  end
end
print output
